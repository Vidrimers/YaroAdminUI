<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Yaro adminUI - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–º</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- AUTH SCREEN -->
    <div id="authScreen" class="auth-screen">
      <div class="auth-container">
        <div class="auth-header">
          <h1>üîê YaroAdminUI</h1>
          <p>–í—Ö–æ–¥ —á–µ—Ä–µ–∑ SSH-–∫–ª—é—á –∏–ª–∏ WebAuthn</p>
        </div>

        <div class="auth-tabs">
          <button class="auth-tab active" data-tab="ssh-auth">SSH –ö–ª—é—á</button>
          <button class="auth-tab" data-tab="webauthn-auth">WebAuthn</button>
          <button class="auth-tab" data-tab="telegram-auth">Telegram</button>
        </div>

        <!-- SSH Auth Tab -->
        <div id="ssh-auth" class="auth-tab-content active">
          <form id="sshAuthForm" class="auth-form">
            <div class="form-group">
              <label for="sshMessage">SSH –°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ø–æ–¥–ø–∏—Å–∏:</label>
              <textarea
                id="sshMessage"
                class="form-control"
                readonly
              ></textarea>
              <button
                type="button"
                id="generateMessageBtn"
                class="btn btn-primary btn-sm"
              >
                –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å
              </button>
            </div>

            <div class="form-group">
              <label for="sshSignature">–ü–æ–¥–ø–∏—Å—å (base64):</label>
              <textarea
                id="sshSignature"
                class="form-control"
                placeholder="–í—Å—Ç–∞–≤—å—Ç–µ –ø–æ–¥–ø–∏—Å—å –æ—Ç ssh-keygen -Y sign"
              ></textarea>
            </div>

            <button type="submit" class="btn btn-success btn-block">
              –í—Ö–æ–¥ —á–µ—Ä–µ–∑ SSH
            </button>
          </form>
        </div>

        <!-- WebAuthn Auth Tab -->
        <div id="webauthn-auth" class="auth-tab-content">
          <form id="webauthnAuthForm" class="auth-form">
            <div class="form-group">
              <label for="username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>
              <input
                type="text"
                id="username"
                class="form-control"
                placeholder="admin"
              />
            </div>

            <button
              type="button"
              id="webauthnRegisterBtn"
              class="btn btn-secondary btn-block"
            >
              –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á
            </button>
            <button type="submit" class="btn btn-success btn-block">
              –í—Ö–æ–¥ WebAuthn
            </button>
          </form>
        </div>

        <!-- Telegram Auth Tab -->
        <div id="telegram-auth" class="auth-tab-content">
          <div class="telegram-auth-info">
            <p>üì± –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É –±–æ—Ç—É –≤ Telegram:</p>
            <code>/auth_code {YOUR_CODE}</code>
            <div class="form-group">
              <input
                type="text"
                id="telegramCode"
                class="form-control"
                placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ Telegram"
              />
            </div>
            <button
              type="button"
              id="telegramAuthBtn"
              class="btn btn-success btn-block"
            >
              –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∫–æ–¥
            </button>
          </div>
        </div>

        <div
          id="authError"
          class="alert alert-danger"
          style="display: none"
        ></div>
      </div>
    </div>

    <!-- MAIN DASHBOARD -->
    <div id="dashboard" class="dashboard" style="display: none">
      <!-- HEADER -->
      <div class="header">
        <div class="header-content">
          <h1>üìã YaroAdminUI</h1>
          <p id="userInfo">–í—ã –≤–æ—à–ª–∏ –∫–∞–∫: <span id="username">Admin</span></p>
        </div>
        <button id="logoutBtn" class="btn btn-danger">–í—ã—Ö–æ–¥</button>
      </div>

      <!-- CONTAINER WITH CARDS -->
      <div class="container">
        <!-- SERVER STATUS CARD -->
        <div class="card">
          <div class="card-header">
            <h2>üñ•Ô∏è –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞</h2>
          </div>
          <div class="card-body">
            <div class="status-item">
              <span>IP –∞–¥—Ä–µ—Å:</span>
              <strong id="serverIP">-</strong>
            </div>
            <div class="status-item">
              <span>–°—Ç–∞—Ç—É—Å:</span>
              <strong id="serverStatus" class="status-online">üü¢ Online</strong>
            </div>
            <div class="status-item">
              <span>–í—Ä–µ–º—è –∂–∏–∑–Ω–∏:</span>
              <strong id="serverUptime">-</strong>
            </div>
            <div class="status-item">
              <span>CPU –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:</span>
              <strong id="cpuUsage">-</strong>
            </div>
            <div class="status-item">
              <span>RAM –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:</span>
              <strong id="ramUsage">-</strong>
            </div>
          </div>
        </div>

        <!-- SYSTEM COMMANDS CARD -->
        <div class="card">
          <div class="card-header">
            <h2>‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π</h2>
          </div>
          <div class="card-body">
            <div class="btn-group">
              <button class="btn btn-warning" data-action="restart-ssh">
                üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å SSH
              </button>
              <button class="btn btn-info" data-action="check-disk">
                üíæ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∏—Å–∫
              </button>
              <button class="btn btn-warning" data-action="restart-service">
                üîÑ –†–µ—Å—Ç–∞—Ä—Ç —Å–µ—Ä–≤–∏—Å–∞
              </button>
            </div>
          </div>
        </div>

        <!-- SERVICES CARD -->
        <div class="card">
          <div class="card-header">
            <h2>üöÄ –°–µ—Ä–≤–∏—Å—ã</h2>
          </div>
          <div class="card-body">
            <div id="servicesList" class="services-list">
              <div class="service-item">
                <span>SSH</span>
                <span class="status-badge status-running">–ó–∞–ø—É—â–µ–Ω</span>
              </div>
            </div>
          </div>
        </div>

        <!-- LOGS CARD -->
        <div class="card">
          <div class="card-header">
            <h2>üìù –õ–æ–≥–∏ –æ–ø–µ—Ä–∞—Ü–∏–π</h2>
          </div>
          <div class="card-body">
            <div
              id="logsList"
              class="logs-list"
              style="max-height: 300px; overflow-y: auto"
            >
              <p class="text-muted">–ù–µ—Ç –ª–æ–≥–æ–≤</p>
            </div>
          </div>
        </div>

        <!-- SSH KEY MANAGEMENT CARD -->
        <div class="card">
          <div class="card-header">
            <h2>üîë –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SSH –∫–ª—é—á–∞–º–∏</h2>
          </div>
          <div class="card-body">
            <form id="sshKeyForm" class="form">
              <div class="form-group">
                <label for="newSshKey">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á:</label>
                <textarea
                  id="newSshKey"
                  class="form-control"
                  placeholder="ssh-ed25519 AAAA..."
                ></textarea>
              </div>
              <button type="submit" class="btn btn-success">
                –î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á
              </button>
            </form>
            <hr />
            <h4>–¢–µ–∫—É—â–∏–µ –∫–ª—é—á–∏:</h4>
            <div id="keysList" class="keys-list">
              <p class="text-muted">–ó–∞–≥—Ä—É–∂–∞–µ–º –∫–ª—é—á–∏...</p>
            </div>
          </div>
        </div>

        <!-- FIREWALL CARD -->
        <div class="card">
          <div class="card-header">
            <h2>üî• Firewall</h2>
          </div>
          <div class="card-body">
            <form id="firewallForm" class="form">
              <div class="form-group">
                <label for="fwPort">–ü–æ—Ä—Ç:</label>
                <input
                  type="number"
                  id="fwPort"
                  class="form-control"
                  placeholder="22"
                  min="1"
                  max="65535"
                />
              </div>
              <div class="form-group">
                <label for="fwAction">–î–µ–π—Å—Ç–≤–∏–µ:</label>
                <select id="fwAction" class="form-control">
                  <option value="allow">–†–∞–∑—Ä–µ—à–∏—Ç—å</option>
                  <option value="deny">–ó–∞–ø—Ä–µ—Ç–∏—Ç—å</option>
                </select>
              </div>
              <button type="submit" class="btn btn-warning">
                –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∏–ª–æ
              </button>
            </form>
          </div>
        </div>

        <!-- NOTIFICATIONS CARD -->
        <div class="card">
          <div class="card-header">
            <h2>üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h2>
          </div>
          <div class="card-body">
            <div id="notificationsList" class="notifications-list">
              <p class="text-muted">–ù–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- TOAST NOTIFICATIONS -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="adminui_client.js"></script>
  </body>
</html>
