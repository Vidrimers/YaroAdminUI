# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–º

## –ó–∞ 2 –º–∏–Ω—É—Ç—ã

### –ß—Ç–æ –≤—ã —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ –¥–µ–ª–∞—Ç—å?

**1. –í–∏–¥–µ—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–µ—Ä–≤–∏—Å–∞–º–∏:**

```
–û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å ‚Üí –ö–∞—Ä—Ç–æ—á–∫–∞ "–°–µ—Ä–≤–∏—Å—ã" ‚Üí –í–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ‚Üí –°–µ—Ä–≤–∏—Å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
```

**2. –í–∏–¥–µ—Ç—å PM2 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**

```
–û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å ‚Üí –ö–∞—Ä—Ç–æ—á–∫–∞ "–°–µ—Ä–≤–∏—Å—ã" ‚Üí –°–∫—Ä–æ–ª–ª–∏—Ç–µ –≤–Ω–∏–∑ ‚Üí PM2 –ø—Ä–æ—Ü–µ—Å—Å—ã
–í–∏–¥–∏—Ç–µ: PID, Memory, CPU, –°—Ç–∞—Ç—É—Å
–£–ø—Ä–∞–≤–ª—è–π—Ç–µ: –ó–∞–ø—É—Å–∫, –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞, –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```

**3. –ó–∞–ø—É—Å–∫–∞—Ç—å bash —Å–∫—Ä–∏–ø—Ç—ã:**

```
–û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å ‚Üí –ö–∞—Ä—Ç–æ—á–∫–∞ "–°–∫—Ä–∏–ø—Ç—ã" ‚Üí –í–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ .sh —Ñ–∞–π–ª–æ–≤
–ù–∞–∂–º–∏—Ç–µ "–í—ã–ø–æ–ª–Ω–∏—Ç—å" ‚Üí –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è
```

---

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –ö–∞—Ä—Ç–æ—á–∫–∞ "üöÄ –°–µ—Ä–≤–∏—Å—ã"

**Systemctl —Å–µ—Ä–≤–∏—Å—ã:**

- SSH (sshd)
- Nginx
- MySQL, PostgreSQL
- Redis
- MongoDB
- –ò –¥—Ä.

–î–ª—è –∫–∞–∂–¥–æ–≥–æ:

- üü¢ –ó–∞–ø—É—Å—Ç–∏—Ç—å (`systemctl start`)
- üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å (`systemctl restart`)
- üî¥ –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (`systemctl stop`)
- üìä –í–∏–¥–µ—Ç—å —Å—Ç–∞—Ç—É—Å

**PM2 –ø—Ä–æ—Ü–µ—Å—Å—ã:**

- –í—Å–µ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –í–∏–¥–µ—Ç—å: PID, Memory, CPU
- –£–ø—Ä–∞–≤–ª—è—Ç—å: –ó–∞–ø—É—Å–∫, –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞, –û—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ö–∞—Ä—Ç–æ—á–∫–∞ "üìú –°–∫—Ä–∏–ø—Ç—ã"

–ò—â–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã –≤:

- `/opt/scripts/`
- `/root/scripts/`
- `/home/*/scripts/`
- –î—Ä—É–≥–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–µ—Å—Ç–∞

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞:

- –í–∏–¥–µ—Ç—å –ø–æ–ª–Ω—ã–π –ø—É—Ç—å
- –ö–Ω–æ–ø–∫–∞ "‚ñ∂ –í—ã–ø–æ–ª–Ω–∏—Ç—å"
- –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ Activity Logs

### –û—Å—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏

- **Server Status** - –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ (IP, Uptime, CPU, RAM)
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π** - 3 –±—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã (SSH, –î–∏—Å–∫, –°–µ—Ä–≤–∏—Å)
- **SSH Keys** - –î–æ–±–∞–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å –∫–ª—é—á–∏
- **Firewall** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞–º–∏
- **Activity Logs** - –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **Notifications** - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

---

## üîß –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç?

### –°–ø–æ—Å–æ–± 1: –í —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

```bash
# –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª
touch /opt/scripts/my-script.sh

# –î–æ–±–∞–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
echo '#!/bin/bash' > /opt/scripts/my-script.sh
echo 'echo "Hello from my script!"' >> /opt/scripts/my-script.sh

# –°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
chmod +x /opt/scripts/my-script.sh

# –ì–æ—Ç–æ–≤–æ! –í –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ "–°–∫—Ä–∏–ø—Ç—ã" –∏ –Ω–∞–∂–º–∏—Ç–µ "–í—ã–ø–æ–ª–Ω–∏—Ç—å"
```

### –°–ø–æ—Å–æ–± 2: –í –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

```bash
mkdir -p ~/scripts
echo '#!/bin/bash' > ~/scripts/my-script.sh
echo 'echo "Hello!"' >> ~/scripts/my-script.sh
```

### –°–ø–æ—Å–æ–± 3: –í —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
mkdir -p ./scripts
echo '#!/bin/bash' > ./scripts/my-script.sh
echo 'echo "Hello!"' >> ./scripts/my-script.sh
```

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
#!/bin/bash
# /opt/scripts/backup.sh

echo "Starting backup..."
tar -czf /backup/app-$(date +%Y%m%d).tar.gz /var/www/app/
echo "Backup completed!"
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ù–∞–∂–º–∏—Ç–µ "–í—ã–ø–æ–ª–Ω–∏—Ç—å" –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

---

### –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

```bash
#!/bin/bash
# /opt/scripts/cleanup.sh

echo "Cleaning temporary files..."
rm -rf /tmp/*
rm -rf ~/.cache/*
echo "Cleanup completed!"
```

---

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
#!/bin/bash
# /opt/scripts/update.sh

echo "Pulling latest code..."
cd /var/www/app
git pull origin main

echo "Installing dependencies..."
npm install

echo "Restarting application..."
pm2 restart adminui-server

echo "Update completed!"
```

---

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã

```bash
#!/bin/bash
# /opt/scripts/health-check.sh

echo "=== Health Check Report ==="
echo ""
echo "Disk Usage:"
df -h

echo ""
echo "Memory:"
free -h

echo ""
echo "CPU Load:"
uptime

echo ""
echo "Services Status:"
systemctl status sshd nginx
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

‚úÖ –í—Å–µ systemctl —Å–µ—Ä–≤–∏—Å—ã (—Å whitelist–æ–º)  
‚úÖ PM2 –ø—Ä–æ—Ü–µ—Å—Å—ã (–µ—Å–ª–∏ PM2 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)  
‚úÖ Bash —Å–∫—Ä–∏–ø—Ç—ã –∏–∑ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π  
‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è  
‚úÖ –í—Å–µ –∑–∞—â–∏—â–µ–Ω–æ JWT —Ç–æ–∫–µ–Ω–æ–º

### –ß—Ç–æ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:

‚ùå Sudo –∫–æ–º–∞–Ω–¥—ã (–µ—Å–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω sudoers)  
‚ùå –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã (—Ç—Ä–µ–±—É—é—â–∏–µ –≤–≤–æ–¥–∞)  
‚ùå –°–∫—Ä–∏–ø—Ç—ã –¥–æ–ª—å—à–µ 30 —Å–µ–∫—É–Ω–¥ (timeout)  
‚ùå –°–∫—Ä–∏–ø—Ç—ã —Å path traversal (`../`)

### –ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç —Ç—Ä–µ–±—É–µ—Ç sudo:

–í–∞—Ä–∏–∞–Ω—Ç 1: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ sudoers –¥–ª—è Node.js –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
sudo visudo
# –î–æ–±–∞–≤—å—Ç–µ:
www-data ALL=(ALL) NOPASSWD: /opt/scripts/admin-script.sh
```

–í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç root (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è!)

---

## üìû –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (http://localhost:666)
2. –í–æ–π–¥–∏—Ç–µ –ø–æ SSH
3. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É "–°–µ—Ä–≤–∏—Å—ã" - –≤–∏–¥–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
4. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É "–°–∫—Ä–∏–ø—Ç—ã" - –≤–∏–¥–∏—Ç–µ –≤—Å–µ —Å–∫—Ä–∏–ø—Ç—ã
5. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–∂–∞—Ç—å "–í—ã–ø–æ–ª–Ω–∏—Ç—å" –Ω–∞ –ª—é–±–æ–º —Å–∫—Ä–∏–ø—Ç–µ
6. –°–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ Activity Logs

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–µ—Ä–≤–µ—Ä–æ–º –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞!** üéâ

---

## üÜò Troubleshooting

**Q: –Ø –Ω–µ –≤–∏–∂—É PM2 –ø—Ä–æ—Ü–µ—Å—Å—ã!**  
A: PM2 –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: `npm install -g pm2`

**Q: –Ø –Ω–µ –≤–∏–∂—É –º–æ–∏ —Å–∫—Ä–∏–ø—Ç—ã!**  
A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

- –°–∫—Ä–∏–ø—Ç—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏?
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ .sh?
- –°–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª—ã?

**Q: –°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ**  
A: –ú–∞–∫—Å–∏–º—É–º 30 —Å–µ–∫—É–Ω–¥. –î–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:

```bash
#!/bin/bash
nohup long-running-command > /tmp/log.txt 2>&1 &
echo "Started in background"
```

**Q: –ù—É–∂–Ω—ã –ø—Ä–∞–≤–∞ sudo –¥–ª—è —Å–∫—Ä–∏–ø—Ç–∞**  
A: –õ–∏–±–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ sudoers, –ª–∏–±–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç root.

---

**–í–µ—Ä—Å–∏—è:** 2.0.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2024  
**–í—Å–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**
