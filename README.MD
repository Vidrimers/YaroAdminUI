# üöÄ YaroAdminUI - Server Administration Panel

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–º —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç—Ä—ë—Ö –º–µ—Ç–æ–¥–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:

- üîê SSH –∫–ª—é—á–∏ (OpenSSH ‚â•8.2)
- üåê WebAuthn (–±–∏–æ–º–µ—Ç—Ä–∏—è, –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏)
- üì± Telegram Bot

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Node.js](https://img.shields.io/badge/Node.js-v18%2B-green)

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **üé® –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI** —Å –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º–∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –≤ —Ç—ë–º–Ω—ã—Ö —Ç–æ–Ω–∞—Ö
- **üîê –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** —á–µ—Ä–µ–∑ SSH –∫–ª—é—á–∏, WebAuthn –∏ Telegram
- **üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä–∞** - —Å—Ç–∞—Ç—É—Å, CPU, RAM, Uptime
- **üîë –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SSH –∫–ª—é—á–∞–º–∏** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–π
- **üöÄ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏** - –∑–∞–ø—É—Å–∫, –æ—Å—Ç–∞–Ω–æ–≤–∫–∞, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
- **üî• Firewall —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –¥–ª—è –ø–æ—Ä—Ç–æ–≤
- **üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π** - –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π
- **üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **üì± Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –±–æ—Ç
- **üíæ SQLite –ë–î** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ª–æ–≥–æ–≤
- **‚ö° JWT —Ç–æ–∫–µ–Ω—ã** - –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–µ—Å—Å–∏–∏

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js v18+
- npm –∏–ª–∏ yarn
- OpenSSH ‚â• 8.2 (–¥–ª—è SSH –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- Telegram Bot Token

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/Vidrimers/YaroAdminUI.git
cd YaroAdminUI
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
npm install
```

### 3. –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª

```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Å –≤–∞—à–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

```env
# SERVER CONFIGURATION
SERVER_IP=your.server.ip
PORT=3000
HOST=localhost

# TELEGRAM BOT
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_ADMIN_ID=your_telegram_id

# SSH AUTHENTICATION
SSH_KEY_PATH=~/.ssh/id_rsa.pub
SSH_KEYS=id_ed25519,id_rsa
SSH_PORT=22

# SECURITY
JWT_SECRET=change_me_to_secure_random_string_in_production
SESSION_TIMEOUT=3600000
MAX_LOGIN_ATTEMPTS=5

# DATABASE
DB_PATH=./adminui.db

# API
CORS_ORIGIN=http://localhost:3000
```

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

```bash
# –¢–æ–ª—å–∫–æ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
npm start

# –¢–æ–ª—å–∫–æ Telegram –±–æ—Ç
npm run bot

# –û–±–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
npm run both
```

–û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000` –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

### SSH –ö–ª—é—á (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–∞–º—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–±. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç OpenSSH ‚â•8.2 –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–µ–π.

**–ü—Ä–æ—Ü–µ—Å—Å:**

1. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Ö–æ–¥–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É "SSH –ö–ª—é—á"
2. –ù–∞–∂–º–∏—Ç–µ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å" - –ø–æ–ª—É—á–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
3. –ü–æ–¥–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ:
   ```bash
   ssh-keygen -Y sign -f ~/.ssh/id_rsa -n YaroAdminUI-Auth < <(echo "—Å–æ–æ–±—â–µ–Ω–∏–µ")
   ```
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–¥–ø–∏—Å—å –≤ –ø–æ–ª–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**

- OpenSSH ‚â• 8.2
- –í–∞—à –ø—É–±–ª–∏—á–Ω—ã–π SSH –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### WebAuthn

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–æ–º–µ—Ç—Ä–∏—é (–æ—Ç–ø–µ—á–∞—Ç–æ–∫ –ø–∞–ª—å—Ü–∞, Face ID) –∏–ª–∏ –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏.

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã:**

- Chrome/Edge ‚â•67
- Firefox ‚â•60
- Safari ‚â•13

### Telegram Bot

–£–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —á–µ—Ä–µ–∑ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Telegram.

**–ü—Ä–æ—Ü–µ—Å—Å:**

1. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É `/start`
2. –í—ã–±–µ—Ä–∏—Ç–µ `/admin` –∏ –Ω–∞–∂–º–∏—Ç–µ "–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥ –≤—Ö–æ–¥–∞"
3. –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Ö–æ–¥–∞
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É: `/auth_code CODE`

**–ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞:**

- `/start` - –ø–æ–º–æ—â—å –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `/admin` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é
- `/status` - —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞
- `/help` - —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
- `/link` - —Å–≤—è–∑–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç

## üì° API Endpoints

### Public

- `POST /api/auth/ssh-message` - –ø–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ø–æ–¥–ø–∏—Å–∏
- `POST /api/auth/ssh-verify` - –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å SSH –ø–æ–¥–ø–∏—Å—å
- `POST /api/auth/telegram-verify` - –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å Telegram –∫–æ–¥
- `POST /api/auth/webauthn-register` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è WebAuthn –∫–ª—é—á–∞

### Protected (—Ç—Ä–µ–±—É–µ—Ç—Å—è JWT —Ç–æ–∫–µ–Ω)

- `GET /api/server/status` - —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞
- `GET /api/server/services` - —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
- `POST /api/server/execute` - –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É
- `GET /api/server/ssh-keys` - —Å–ø–∏—Å–æ–∫ SSH –∫–ª—é—á–µ–π
- `POST /api/server/ssh-keys` - –¥–æ–±–∞–≤–∏—Ç—å SSH –∫–ª—é—á
- `DELETE /api/server/ssh-keys/:keyId` - —É–¥–∞–ª–∏—Ç—å SSH –∫–ª—é—á
- `GET /api/server/logs` - –ª–æ–≥–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
- `GET /api/server/notifications` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ index.html              # –§—Ä–æ–Ω—Ç–µ–Ω–¥ HTML
‚îú‚îÄ‚îÄ adminui_client.js       # –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ª–æ–≥–∏–∫–∞ (ES6)
‚îú‚îÄ‚îÄ style.css              # –°—Ç–∏–ª–∏ (—Ç—ë–º–Ω–∞—è —Ç–µ–º–∞)
‚îú‚îÄ‚îÄ adminui.js             # –ì–ª–∞–≤–Ω—ã–π Express —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ adminuibot.js          # Telegram –±–æ—Ç
‚îú‚îÄ‚îÄ .env                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å!)
‚îú‚îÄ‚îÄ .env.example           # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ package.json           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Node.js
‚îî‚îÄ‚îÄ README.md              # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–∞–±–ª–∏—Ü—ã:

- `users` - –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `ssh_keys` - SSH –∫–ª—é—á–∏
- `webauthn_credentials` - WebAuthn –∫–ª—é—á–∏
- `auth_sessions` - —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `activity_logs` - –ª–æ–≥–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- `telegram_codes` - –∫–æ–¥—ã –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ Telegram
- `telegram_users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ Telegram

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Best Practices

1. **SSH –∫–ª—é—á–∏**

   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ED25519 –≤–º–µ—Å—Ç–æ RSA
   - –•—Ä–∞–Ω–∏—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ssh-agent –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

2. **JWT —Ç–æ–∫–µ–Ω—ã**

   - –•—Ä–∞–Ω—è—Ç—Å—è –≤ localStorage (HTTPS —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!)
   - –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: 24 —á–∞—Å–∞
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

3. **CORS**

   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å—ã —Å —Ç–æ–≥–æ –∂–µ –∞–¥—Ä–µ—Å–∞
   - –ò–∑–º–µ–Ω–∏—Ç–µ `CORS_ORIGIN` –≤ .env –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

4. **–ö–æ–º–∞–Ω–¥—ã**
   - –ë–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
   - –ù–∏–∫–∞–∫–∏–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è

## üêõ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ SQLite:

- –í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ SSH –∫–ª—é—á–µ–π
- –û—à–∏–±–∫–∏

–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –º–æ–∂–Ω–æ –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–õ–æ–≥–∏ –æ–ø–µ—Ä–∞—Ü–∏–π".

## üöÄ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Docker

```dockerfile
FROM node:18-alpine

WORKDIR /app
COPY . .

RUN npm install --production

EXPOSE 3000

CMD ["npm", "start"]
```

### Systemd

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `/etc/systemd/system/yaroadminui.service`:

```ini
[Unit]
Description=YaroAdminUI Server
After=network.target

[Service]
Type=simple
User=yaroadmin
WorkingDirectory=/opt/yaroadminui
ExecStart=/usr/bin/node /opt/yaroadminui/adminui.js
Restart=on-failure
RestartSec=10

[Install]
WantedBy=multi-user.target
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
sudo systemctl daemon-reload
sudo systemctl enable yaroadminui
sudo systemctl start yaroadminui
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

Created by Yaro

- GitHub: [@Vidrimers](https://github.com/Vidrimers)

## ü§ù –í–∫–ª–∞–¥

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è Pull Requests!

## üìß –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã, —Å–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

## üó∫Ô∏è –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞

- [ ] 2FA (–¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ LDAP/Active Directory
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [ ] –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- [ ] –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- [ ] API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Swagger)
- [ ] –í–µ–±-–∫–æ–Ω—Å–æ–ª—å SSH
- [ ] –ò—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥ –∏ –∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

---

**Made with ‚ù§Ô∏è for server administration**
